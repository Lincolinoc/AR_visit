<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <title>WebAR визитка — пример</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js@2.2.1/aframe/build/aframe-ar.js"></script>
    <style>
      body { margin: 0; overflow: hidden; }
      #loading {
        position: absolute;
        z-index: 5;
        left: 10px;
        top: 10px;
        background: rgba(255,255,255,0.9);
        padding: 8px;
        border-radius: 6px;
        font-family: Arial, sans-serif;
        font-size: 14px;
      }
      #debug {
        position: absolute;
        z-index: 5;
        left: 10px;
        bottom: 10px;
        background: rgba(0,0,0,0.8);
        color: white;
        padding: 8px;
        border-radius: 6px;
        font-family: monospace;
        font-size: 11px;
        max-width: 90%;
        max-height: 200px;
        overflow-y: auto;
      }
    </style>
  </head>
  <body>
    <div id="loading">Инициализация...</div>
    <div id="debug"></div>
    
    <a-scene
      vr-mode-ui="enabled: false"
      embedded
      arjs="sourceType: webcam; debugUIEnabled: false; patternRatio: 0.9;"
      renderer="logarithmicDepthBuffer: true;">
      
      <a-marker type="pattern" url="mycard.patt" id="marker">
        <a-box color="red" position="0 0.5 0" scale="0.5 0.5 0.5"></a-box>
        
        <a-entity
          id="model"
          obj-model="obj: url(model.obj); mtl: url(model.mtl)"
          scale="2 2 2"
          rotation="0 180 0"
          position="0 0 0">
        </a-entity>
        
        <a-entity position="0 1 0" rotation="-20 0 0">
          <a-text value="Иван Иванов\nДизайнер" align="center" width="1.6" color="#000"></a-text>
        </a-entity>
      </a-marker>
      
      <a-entity camera></a-entity>
    </a-scene>

    <script>
      const debug = document.getElementById('debug');
      const loading = document.getElementById('loading');
      
      function log(msg) {
        console.log(msg);
        debug.innerHTML += msg + '<br>';
        debug.scrollTop = debug.scrollHeight;
      }

      // Проверка загрузки сцены
      document.querySelector('a-scene').addEventListener('loaded', () => {
        log('✓ A-Frame сцена загружена');
      });

      // Проверка AR.js
      window.addEventListener('arjs-video-loaded', () => {
        log('✓ Камера инициализирована');
        loading.textContent = 'Наведите камеру на визитку';
      });

      // Обнаружение маркера
      const marker = document.getElementById('marker');
      marker.addEventListener('markerFound', () => {
        log('✓ МАРКЕР НАЙДЕН!');
        loading.style.background = 'rgba(0,255,0,0.8)';
        loading.textContent = 'Маркер обнаружен!';
      });

      marker.addEventListener('markerLost', () => {
        log('⚠ Маркер потерян');
        loading.style.background = 'rgba(255,255,255,0.9)';
        loading.textContent = 'Наведите камеру на визитку';
      });

      // Проверка загрузки модели
      const model = document.getElementById('model');
      if (model) {
        model.addEventListener('model-loaded', () => {
          log('✓ 3D модель загружена');
        });
        model.addEventListener('model-error', (e) => {
          log('✗ Ошибка загрузки модели: ' + e.detail);
        });
      }

      // Общий обработчик ошибок
      window.addEventListener('error', (e) => {
        log('✗ ОШИБКА: ' + e.message);
      });

      // Проверка доступа к камере
      setTimeout(() => {
        if (!document.querySelector('video')) {
          log('✗ Камера не запущена. Проверьте разрешения.');
          loading.textContent = 'Ошибка: нет доступа к камере';
          loading.style.background = 'rgba(255,0,0,0.9)';
          loading.style.color = 'white';
        }
      }, 5000);
    </script>
  </body>
</html>
```

## Проблема 3: Проверьте структуру файлов

Убедитесь, что на вашем GitHub Pages файлы лежат так:
```
https://lincolinoc.github.io/index.html
https://lincolinoc.github.io/mycard.patt
https://lincolinoc.github.io/model.obj
https://lincolinoc.github.io/model.mtl






